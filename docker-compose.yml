# Local development â€” use infra/docker-compose.yml or copy here
# Example: cp infra/docker-compose.yml . && docker compose up -d
version: '3.9'

services:
  neo4j:
    image: neo4j:5.18-community
    ports:
      - "7474:7474"   # Browser UI
      - "7687:7687"   # Bolt protocol
    environment:
      NEO4J_AUTH: neo4j/${NEO4J_PASSWORD}
      NEO4J_PLUGINS: '["apoc"]'
      NEO4J_dbms_memory_heap_max__size: 4G
    volumes:
      - ./data/neo4j:/data
      - ./data/exports:/var/lib/neo4j/import

  postgres:
    image: postgres:16
    ports:
      - "5432:5432"
    environment:
      POSTGRES_DB: claidex
      POSTGRES_USER: claidex
      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
    volumes:
      - ./data/postgres:/var/lib/postgresql/data

  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"
